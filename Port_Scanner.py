#!/usr/bin/python3

import nmap

scanner = nmap.PortScanner()

print("Welcome, this is nmap automation tool")
print("=====================================")

ip_addr = input("Enter the IP address you want to scan: ")
print("The IP address for scanning is: ", ip_addr)
type(ip_addr)

resp = input("""\n Please enter the type of scan you want to perform
                1) SYN ACK Scan
                2) UDP Scan
                3) Comprehensive Scan""")
print("You have selected the option: ", resp)

if resp == '1':
    print("Nmap version: ", scanner.nmap_version()) # gives nmap version information
    scanner.scan(ip_addr, '1-1024', '-v -sS')   # scan type = SYN ACK defined
    print(scanner.scaninfo())
    print("Host status (Ping Based): ", scanner[ip_addr].state())   # Tell whether host is live or not
    print(scanner[ip_addr].all_protocols())     # Scan all protocols
    print("Found these open ports: ", scanner[ip_addr]['tcp'].keys())

elif resp == '2':
    print("Nmap version: ", scanner.nmap_version())  # gives nmap version information
    scanner.scan(ip_addr, '1-1024', '-v -sU')  # scan type = SYN ACK defined
    print(scanner.scaninfo())
    print("Host status (Ping Based): ", scanner[ip_addr].state())  # Tell whether host is live or not
    print(scanner[ip_addr].all_protocols())  # Scan all protocols
    print("Found these open ports: ", scanner[ip_addr]['udp'].keys())

elif resp == '3':
    print("Nmap version: ", scanner.nmap_version())  # gives nmap version information
    scanner.scan(ip_addr, '1-1024', '-v -sS -sV -sC -A -O')  # scan type = SYN ACK defined
    print(scanner.scaninfo())
    print("Host status (Ping Based): ", scanner[ip_addr].state())  # Tell whether host is live or not
    print(scanner[ip_addr].all_protocols())  # Scan all protocols
    print("Found these open ports: ", scanner[ip_addr]['tcp'].keys())

elif resp >='4':
    print("Please enter a valid option")




